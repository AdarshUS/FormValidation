<!Doctype html>
<html lang="en">
  <head>
    <title>Form Validation</title>  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style/style.css">    
  </head>
  <body>   
    <form class="p-3 border" onsubmit="validate();">        
      <div class="mb-3">
        <label for="name" class="form-label">Name:</label>
        <input type="text" id="name" name="Name" placeholder="Enter your full name" class="form-control" autocomplete="off">
        <span id="name_error" class="text-danger"></span>
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">E-mail Address:</label>
        <input type="email" id="email" name="EMail" placeholder="Enter your email" class="form-control" required autocomplete="off">
        <span id="email_error" class="text-danger"></span>
      </div>

      <div class="mb-3">
        <label for="phone" class="form-label">Phone Number:</label>
        <input type="tel" id="phone" name="Phone" placeholder="Enter your phone number" class="form-control" autocomplete="off">
        <span id="phone_error" class="text-danger"></span>
      </div>

      <div class="mb-3">
        <label for="newpassword" class="form-label">Enter Password:</label>
        <input type="password" id="newpassword" name="newPassword" class="form-control" oninput="checkStrength()" autocomplete="off">
        <span id="password_error" class="text-danger"></span>    
        <span id="strength"></span>    
      </div>

       <div class="mb-3">
        <label for="confirmpassword" class="form-label">Confirm Password:</label>
        <input type="password" id="confirmpassword" name="confirmPassword" class="form-control" autocomplete="off">
        <span id="password_matcherror" class="text-danger"></span>
      </div>

      <button type="button" class="btn btn-primary" onclick="validate()">submit</button>
    </form>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>
      function validate() {
       
        let nameError = document.getElementById("name_error");        
        let emailError = document.getElementById("email_error");
        let phoneError = document.getElementById("phone_error");
        let passwordError = document.getElementById("password_error");
        let passwordMatchError = document.getElementById("password_matcherror");

        nameError.textContent = "";       
        emailError.textContent = "";
        phoneError.textContent = "";
        passwordError.textContent = "";
        passwordMatchError.textContent = "";
       
        let name = document.getElementById("name").value;      
        let email = document.getElementById("email").value;
        let phone = document.getElementById("phone").value;
        let password = document.getElementById("newpassword").value;
        let cpassword = document.getElementById("confirmpassword").value;

        
        if (name.trim() === "") 
        {
          nameError.textContent = "Name cannot be empty";
         
        }
      
        if (email.trim() === "" ||  !(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email)) ) {
          emailError.textContent = "Please enter a valid email address";
         
        }

        if (phone.trim() === "" || !(phone.length==10)) {
          phoneError.textContent = "Please enter a valid 10-digit phone number";
         
        }

        if (password.trim() === "" || password.search(/[a-z]/i) < 0 || password.search(/[0-9]/) < 0 || password.length<6)          
         {
          passwordError.textContent = "Password must be at least 6 characters long & should contain 1 letter and digit";
         
         }
         
         if(password!==cpassword)
           {
              passwordMatchError.textContent = "password doesnt match";
           }
             
      }

     function checkStrength()
       {          
        
        let password = document.getElementById("newpassword").value;

        if(/^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*[0-9])(?=.*[a-z]).{6,}$/.test(password))
          {
            document.getElementById("strength").style.color="green";
            document.getElementById("strength").innerHTML="strong password";            
          }
         else
          {
            document.getElementById("strength").style.color="red";
            document.getElementById("strength").innerHTML="weak password";
          }

       }
    </script>
  </body>
</html>
